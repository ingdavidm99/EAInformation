<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="csrf_header" th:if="${tp != null}" th:content="${tp.headerName}"/>
	<meta name="csrf" th:if="${tp != null}" th:content="${tp.token}"/>
    
    <link rel="stylesheet" th:href="@{/assets/resources/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/assets/resources/datetimepicker/css/bootstrap-datetimepicker.min.css}"/>
    <link rel="stylesheet" th:href="@{/assets/css/menu.css}"/>
    <link rel="stylesheet" th:href="@{/assets/css/common.css}"/>
    
    <title>EAinformation</title>
</head> 
<body>
	<div th:fragment="scripts">
		<div th:replace="resources/messages :: modal"></div>
	
	    <script type="text/javascript" th:src="@{/assets/resources/popper/popper.min.js}"></script>
	    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
	    <script type="text/javascript" th:src="@{/assets/resources/bootstrap/js/bootstrap.min.js}"></script>
	    <script type="text/javascript" th:src="@{/assets/resources/fontawesome/all.min.js}"></script>
	    
	    <script type="text/javascript" th:src="@{/assets/resources/datetimepicker/js/moment.min.js}"></script>
	    <script type="text/javascript" th:src="@{/assets/resources/datetimepicker/js/bootstrap-datetimepicker.min.js}"></script>
	    
	    <script type="text/javascript">
			$(document).ready(function () {
				$('.leftmenutrigger').on('click', function (e) {
			    	$('.side-nav').toggleClass("open");
			    	$('#wrapper').toggleClass("open");
			   	 	e.preventDefault();
			  	});
				
				function lenguaje(lang) {
					$.ajax({
			    		type: "GET",
			    		contentType: "application/json",
			    		url: "/eai/"+lang,
			    		data : JSON.stringify(),
			    		dataType: 'json',
			    		success: function(response) {
			    			location.reload();
			    		},
			    		error: function(response) {
			    			location.reload();
			    	    }
			    	});
				} 
				
				$('#en').click(function () {
					lenguaje('langEN?lang=en')
			    });
				
				$('#es').click(function () {
					lenguaje('langES?lang=es')
			    });
				
				
				$('.required-icon, label').css("cursor","pointer");
				
				$('[data-toggle="tooltip"]').tooltip();
				
				$('[data-toggle="popover"]').popover({
					placement: 'bottom',
					trigger: 'hover'
				});
				
				var popupElement = '<div class="flag-en flag-en" id="en"></div><div class="flag-co flag-co" id="es"></div>';
				
				$('#lang').popover({
				    animation: true,
				    placement: 'bottom',
				    content: popupElement,
				    html: true
				});
				
				$('.required-icon').popover({
					placement: 'bottom',
					trigger: 'hover'
				});
				
				$('.datepicker').datepicker({
					weekStart: 0,
				    daysOfWeekHighlighted: "6,0",
				    autoclose: true,
				    todayHighlight: true,
				    format: "yyyy-mm-dd",
				    language: "es"
				});
				
				$('#search').click(function () {
			    	$('#formSearch').submit();
			    });	
				
				$('#clear').click(function () {
					$(location ).attr("href", "/eai/systemparameters");
			    });
				
				$('#firstPage').click(function () {
					var page = parseInt($('#page').val());
					var newPage = 1;
					
					if(page > newPage){
						$('#page').val(newPage);
						$('#formSearch').submit();
					}
			    });
				
				$('#prev').click(function () {
					var page = parseInt($('#page').val());
					var newPage = page-1;
					
					if(newPage >= 1){
						$('#page').val(newPage);
				    	$('#formSearch').submit();
					}
			    });
				
				$('#next').click(function () {
					var page = parseInt($('#page').val());
					var size = parseInt($('#size').val());
					var newPage = page+1;
					
					if(newPage <= size){
						$('#page').val(newPage);
				    	$('#formSearch').submit();
					}
			    });
				
				$('#lastPage').click(function () {
					var page = parseInt($('#page').val());
					var size = parseInt($('#size').val());
					
					if(page < size){
						$('#page').val(size);
						$('#formSearch').submit();
					}
			    });
			}); 
	</script>
	</div>
</body>
</html>